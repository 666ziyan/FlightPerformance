[["index.html", "Flight Performance Analysis Chapter 1 Introduction", " Flight Performance Analysis Ziyan Liu, Mingyue Xu 2021-12-13 Chapter 1 Introduction We would like to choose the topic related to the flight performance in U.S., more precisely, the time performance (arrival or departure delays) with respect to different settings of airlines, seasons, destinations, departure time, etc. The experience we learned from the observed data will help us make more reasonable decisions in choosing travelling modes, for example, one may be interested in which airline, which airport, when and where is the best combination for travelling from NYC. Such concerns are closely related to daily life and thus the data analysis is of great significance. Concretely, we will investigate the following three problems: Among all the carriers that provide commercial services in U.S., are there any carriers that have major delay problems? For example, the average delay time is over 60 minutes. Indeed, there are different delay reasons such like CARRIER DELAY, WEATHER DELAY, AIRCRAFT DELAY, etc., and airlines may performance differently with respect to a specific delay reason. Furthermore, delay count and delay time are both reasonable measures to the time performance, and should be analyzed respectively, but combined when making decisions. Are early flights or late flights more likely to delay? Do origin and destination influence the on-time performance? Flight performance may be affected by many environmental factors such as seasons, departure time, weather, etc., thus being intricate and hard to analyze. However, visualization can greatly help us in clearing up those relations and variable controlled analysis will assist the decision making in the following problem3. Specifically for NYC. If someone wants to come to NYC, which airport should he/she choose to fly to based on the origin city? Based on the experience we learned from past in problem1 and problem2, more reasonable decisions can be made for travelling from NYC under different factor settings. The goal is to avoid delays and save time, which is helpful in both business travel and leisure travel. "],["data-sources.html", "Chapter 2 Data sources", " Chapter 2 Data sources We collect the data from the Bureau of Transportation Statistics. Ziyan Liu is in charge of pulling the datasets down from the website. Since we want to analyze flight delays, we select the “Aviation” mode in the data finder, find the database called “Airline On-Time Performance Data”, and download tables from “Marketing Carrier On-Time Performance (Beginning January 2018)” (https://www.transtats.bts.gov/DL_SelectFields.asp?gnoyr_VQ=FGK&amp;QO_fu146_anzr=b0-gvzr). It is nice that the website provides field selection feature, and we select 29 variables that we find useful in our project to include in the datasets. These variables include information about airline carriers, origins, destinations, departure and arrival time and delay situations of U.S. domestic flights. We download 24 tables in total, each containing flight information during one month from January 2019 to December 2020. ‘YEAR’, ‘DAY_OF_WEEK’, ‘FL_DATE’ are the three variables that indicate the date of flights. ‘MKT_CARRIER_AIRLINE_ID’ is the identification number assigned by US DOT to identify a unique airline (carrier). ‘ORIGIN’, ‘ORIGIN_CITY_NAME’, ‘ORIGIN_STATE_ABR’ are the abbreviation of origin airport, origin city name, and the abbreviation of origin state. ‘DEST’, ‘DEST_CITY_NAME’, ‘DEST_STATE_ABR’ contain information similarly for the destination. ‘CRS_DEP_TIME’ is the CRS departure time of flight, ‘DEP_TIME’ is the actual departure time, ‘DEP_DELAY’ is the departure delay time in minutes, where negative numbers indicate early departure, and ‘DEP_DELAY_NEW’ is the same with ‘DEP_DELAY’ except negative numbers are replaced by 0. Arrival information are encoded in the ‘ARR’ variables similarly. ‘CANCELLED’ indicates if the flight is cancelled, where 1 means it is, and ‘CANCELLATION_CODE’ specifies reasons for cancellation. ‘CRS_ELAPSED_TIME’ is the estimated elapsed time of flight in minutes, ‘ACTUAL_ELAPSED_TIME’ is the actual time, and ‘AIR_TIME’ is the flight time. ‘DISTANCE’ gives the distance between airports in miles. Lastly, ‘CARRIER_DELAY’, ‘WEATHER_DELAY’, ‘NAS_DELAY’, ‘SECURITY_DELAY’ and ‘LLATE_AIRCRAFT_DELAY’ are the causes of delay in minutes. The datasets before March 2020 contain about 650,000 records per month, and there is a significant drop after March 2020, obviously due to the pandemic, where each contains about 350,000 records. In total, there are 8,066,815 and 5,022,397 records of U.S. domestic flights respectively in 2019 and 2020. The datasets contain very detailed information and statistics. We found that, however, there are flights that did not fly and are NA’s in the tables, and that some flights are delayed, but no specific reasons are given. "],["data-transformation.html", "Chapter 3 Data transformation", " Chapter 3 Data transformation The downloaded monthly data are stored in csv files, so we simply read the data with R function read.csv and store them in respective variables. Then we combine them by year using rbind function in variables US_2019 and US_2020. "],["missing-values.html", "Chapter 4 Missing values", " Chapter 4 Missing values Above is a plot of missing patterns and count of missing values. We can see that the variable x is missing in all rows, so we can remove it from our dataset. Further, approximately 80% of data follows the top missing pattern as shown in the plot. The variables CARRIER_DELAY, LATE_AIRCRAFT_DELAY, NAS_DELAY, SECURITY_DELAY and WEATHER_DELAY are missing in this pattern, indicating that these flights did not have a delay reason. In the second most frequent missing pattern, these variables have non-NA values. It implies that the flight was delayed and the delay time due to these reasons are shown in the dataset. The bottom four missing patterns are much less frequent than the top two. The missing values in ARR_TIME, DEP_TIME cause the missing in ARR_DELAY and DEP_DELAY respectively, and it may be caused by cancellation of flights, or may be caused by errors in the data collection. Fortunately, such incomplete samples only take up a small proportion, thus having little effect on data analysis. According to the result of missing pattern plotting, we would like to clean the worthless column x, and also those incomplete data points, which has some delay-irrelevant features being NA values. "],["results.html", "Chapter 5 Results 5.1 Compare Carriers’ On-Time Performance 5.2 On-Time Performance Accross the Day 5.3 Flights to Three Airports near NYC (JFK, LGA, EWR)", " Chapter 5 Results 5.1 Compare Carriers’ On-Time Performance As we can see from the figure below, DL (Delta Air Lines Inc.) have over 3,000 flights delayed during January 2019 from and to New York state, AA (American Airlines Inc.) also have more than 2,000 flights delayed, and the number is approximately 1.200 for B6 (JetBlue Airways). This is justifiable since these are the major airlines that conduct the most domestic flights, and the number of delayed flights, certainly, increases as the number of total conducted flights increases. Note that this figure only shows the number of times that delay occurs. On the other side, we need to evaluate the average severity of the delays, i.e. the average time of the delays for each carrier. Therefore, we make another bar plot manifesting the average delay time for each carrier airline. Using the same dataset as above (flights from and to New York state during January 2019), we can see that UA (United Air Lines Inc.) have the longest average delay time of 104.83 minutes. HA (Hawaiian Airlines Inc.), NK (Spirit Air Lines), DL (Delta Air Lines Inc.), B6 (JetBlue Airways), AA (American Airlines Inc.) and F9 (Frontier Airlines Inc.) all have average delay time longer than an hour. Moreover, we hope to explore the results for concrete delay reasons, i.e. CARRIER_DELAY, WEATHER_DELAY, NAS_DELAY, SECURITY_DELAY and LATE_AIRCRAFT_DELAY. For each reason, we make two figures showing the count of delays and average delay time with respect to each carrier. From the figures, we can find that the most common and severe reason causing flight delays is LATE_AIRCRAFT_DELAY, which presumably can be due to the late arrival or preceding flights. There are almost 2,000 DL (Delta Air Lines Inc.) flights are delayed due to this reason, and the average waiting time exceeds 2 hours for HA (Hawaiian Airlines Inc.) flights. The second most common reason is NAS_DELAY, i.e., national air system delay, but the average time caused by this is typically not as long as that caused by other reasons, mostly within an hour. CARRIER_DELAY is the third most common reason that causes delays. This happens a lot of times for DL (Delta Air Lines Inc.), B6 (JetBlue Airways), and AA (American Airlines Inc.). Further, onn average, when carrier delay happens, the waiting time for UA (United Air Lines Inc.) flights is over 100 minutes. WEATHER_DELAY is less frequent than the three above. DL (Delta Air Lines Inc.) and AA (American Airlines Inc.) have about 150 delays caused by weather, which is a very small proportion of all delays. However, the time is highly variable- the longest is 118 minutes for DL (Delta Air Lines Inc.), and the shortest is only 12.5 minutes. Among all 5 reasons, SECURITY_DELAY is the rarest, and only occurs 15 times. Therefore, we do not discuss this reason in detail. As we can see, both delay count and delay time are reasonable measures to the on-time performance of flight and need to be combine when choosing airlines. The heatmap above shows normalized value of delay count and time of the airline carriers in total and also for all five reasons, respectively. In each column, we can see which carrier has most delay flights and longest average delay time by inspecting the color depth. For instance, DL has most flights delayed for aircraft reason, and HA has the longest average delay time. As for some specific delay reasons, the heatmap also provides similar information, e.g. AA may have the longest average delay time for the reason of security. Heatmap provides us an efficient tool to make decision on flight when considering more details in comprehension, which will be discussed later in our problem3. 5.2 On-Time Performance Accross the Day In addition to comparing the differences among the various airlines, we also compared the on-time performance of flights at difference time of a day. We divide the 24 hours of a day into 8 groups, one group every three hours, and calculated the average delay time of departure and arrival. As we can see in the plot below, flight performance of 2020 is obviously better than in 2019. The green horizontal line at level 0 indicates the flight delays or not. Specifically, flights in 2020 almost arrive in advance to their destination no matter they departs lately or not. Unfortunately, flights in 2019 almost depart lately. Moreover, late flights seem to performance worse than early flights in general. Next, we explore the difference among flights to different destinations. We divide them into groups by state in the following graph. The trend in the previous graph is still easy to see in this one- flights that depart later in a day tend to have longer average delay time, and that the on-time performance for flights in 2020 is significantly better than that in 2019. Note that flights to some destinations e.g. HI, MT, NM, are only provided in certain periods, which may caused by the distance and passenger volume. ## [1] &quot;12&quot; &quot;03&quot; &quot;06&quot; &quot;09&quot; &quot;01&quot; &quot;04&quot; &quot;07&quot; &quot;10&quot; &quot;02&quot; &quot;05&quot; &quot;08&quot; &quot;11&quot; The plot above shows flights performance in each months, which also yields the two conclusions mentioned before. Moreover, some other interesting observations are: (1) in winter (Dec., Jan., Feb.), flight performance is in general worse than in other seasons, especially for those late flights, which may due to the cold weather. (2) Fall (Sept., Oct., Nov.) seems to have the best flight performance. 3D plot is more powerful to show the variation of a quantity grouped by multiple dimensions. Flights in June, July and August from 9pm to 12 pm have the longest average delay time. 5.3 Flights to Three Airports near NYC (JFK, LGA, EWR) Columbia University is located in the City of New York, and there are three major airports near the city, which are John F. Kennedy International Airport (JFK), LaGuardia Airport (LGA) and Newark Liberty International Airport (EWR). Suppose a person wants to travel to New York, how should he/she choose which airport to fliy to? We make a graph to illustrate the differnce, facet by each state that has flight towards the three airports. Here again, we apply a tool of heatmap to assist a visitor to NYC with the optimal flight choice. Note that our previous plot only provides an averaged time delay from some origin state over three airports, but not specified to different airlines, hence not enough to guide the user to all details in choosing flights. However, to include the information of airlines, there are in total four variables in our data, which may be hard to present by using scatter plot or bar plot. The heatmap uses color depth to reflect the value of averaged delay time with respect to origin state and airline. As we can see in the plot, for example, if you are a visitor from KY to NYC, then the best choice, with all things considered, may be the airline F9 and the airport LGA. "],["interactive-component.html", "Chapter 6 Interactive component", " Chapter 6 Interactive component Flight Choice Between Cities //h1 {color:red;} p {color:blue;} .myclass2 { color:red; font-size: 30px; } circle {color:red;} Flight Choice to NY Enter the month you want to travel (e.g. 03 for March): Enter your origin state abbreviation (e.g. PA for Pennsylvania): See Results Average Delay Time to NY information 3am~6am 6am~9am 9am~12pm 12pm~3pm 3pm~6pm 6pm~9pm 9pm~12am CRS Departure Time 70 60 50 40 30 20 10 0 -10 -20 Delay Departure Arrival We create an interactive webpage to allow user to check the on-time performance of flights at difference time of a day, as we have shown a plot in our problem2 as a static result. Here in the plot, the points are able to move dynamic according to the information month and origin the user chooses. The reason we build this webpage is that there are twelve months in a year and about 40 origin states in US, one will need to create approximately 1000 static plots to show all the results, which turns to be inefficient and space occupying. Interactive webpage addresses this challenge, thus adding up to a better experience overall for readers. "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion In this project, we created visualizations of data by exploratory data analysis, and made it easier for the audience to see the differences among airline carriers, flight departure time, etc. However, we were not able to analyze all variables that might affect on-time performance. For instance, we haven’t got a chance to see if the day of week influences the flight performance. It could be possible that Sunday flights are more likely to delay than the ones on Wednesday. In future exploration, we can certainly look for more trends similar to this, and make more interesting plots based on the data. During the progress of analyzing the dataset, we both gained a better understanding of what we have learned during the semester. We utilized `dplyr, ggplot2, and many other useful R packages that we learned from the course to make a variety of graphs, such as bar plot, scatterplot and heatmap, in the results section. The strategies to interpret and handle NA values were also useful to deal with missing values. Further, when creating the interactive component of the project, we gained our first experience coding with html and d3 to create a webpage that can take user’s input and output corresponding plot of flight delay time. The course and the project not only taught us how to conduct exploratory data analysis and visualization, but also gave us an opportunity to use what we learned in practice. We appreciate it and really enjoy the process. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
